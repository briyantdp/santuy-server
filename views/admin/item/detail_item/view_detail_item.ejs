<%- include('../../../partials/header.ejs') %>
<!-- Page Wrapper -->
<div id="wrapper">
  <%- include('../../../partials/sidebar.ejs') %>
  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">
    <!-- Main Content -->
    <div id="content">
      <%- include('../../../partials/navbar.ejs') %>
      <!-- Begin Page Content -->
      <div class="container-fluid">
        <!-- Page Heading -->
        <h1 class="h3 mb-4 text-gray-800 font-weight-bold">Detail Item</h1>
        <!-- End Page Heading -->

        <!-- Alert Message -->
        <% if(alert.message !== "") { %>
          <%- include('../../../partials/alert.ejs') %>
        <% } %>
        <!-- End Alert Message -->

        <!-- Main Content -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="showFacilities-tab" data-toggle="tab" href="#showFacilities" role="tab" aria-controls="showFacilities" aria-selected="true">Fasilitas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="showSimilarRooms-tab" data-toggle="tab" href="#showSimilarRooms" role="tab" aria-controls="showSimilarRooms" aria-selected="false">Kamar Sejenis</a>
          </li>
        </ul>
        <div class="tab-content" id="myTabContent">
          <%- include('./show_facilities_item.ejs') %>
          <%- include('./show_similar_rooms_item.ejs') %>
        </div>
      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- End of Main Content -->
    <%- include('../../../partials/footer.ejs') %>
    </div>
    <!-- End of Content Wrapper -->
  </div>
  <!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div
class="modal fade"
id="logoutModal"
tabindex="-1"
role="dialog"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button
                class="close"
                type="button"
                data-dismiss="modal"
                aria-label="Close"
            >
                <span aria-hidden="true">Ã—</span>
            </button>
            </div>
            <div class="modal-body">
            Select "Logout" below if you are ready to end your current session.
            </div>
            <div class="modal-footer">
            <button
                class="btn btn-secondary"
                type="button"
                data-dismiss="modal"
            >
                Cancel
            </button>
            <a class="btn btn-primary" href="login.html">Logout</a>
            </div>
        </div>
    </div>
</div>

<%- include('./edit_modal_facilities.ejs') %>
<%- include('./edit_modal_similar-rooms.ejs') %>
<%- include('../../../partials/js.ejs') %>
<script>
  $(document).ready(function() {
      $('#dataTableSimilarRooms').DataTable();
  });

  $('#dataTableSimilarRooms').on("click", ".button-update", function() {
    let id = $(this).data('id');
    let title = $(this).data('title');
    let price = $(this).data('price');
    let city = $(this).data('city');
    let country = $(this).data('country');

    $("#editModalSimilarRooms").modal("show");
    $(".id").val(id);
    $(".title").val(title);
    $(".price").val(price);
    $(".city").val(city);
    $(".country").val(country);
  });

  $('#dataTableFacilities').on("click", ".button-update", function() {
    let id = $(this).data('id');
    let name = $(this).data('name');
    let qty = $(this).data('qty');

    $("#editModalFacilities").modal("show");
    $(".id").val(id);
    $(".name").val(name);
    $(".qty").val(qty);
  });
</script>